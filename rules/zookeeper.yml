groups:
  - name: component-zookeeper
    rules:
      - alert: ZookeeperDown
        expr: zk_up < 1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Zookeeper is down {{ $labels.instance }} {{ $labels.name }}"

      - alert: ZookeeperDown
        expr: avg(zk_up) by (app_group) == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "All zookeeper in {{ $labels.app_group}} are down"
